# 网络

## 1. http和https的区别

- http协议运行在TCP之上，明文传输，客户端与服务端都无法验证对方身份
- https是身披SSL(Sdcure Socket Laye)外壳的Http，运行于SSL上，运行于TCP之上，是添加了加密认证机制的http
- 区别:
  - 端口不通: http与https使用不同的连接方式，用的端口也不一样，http使用的是80端口，https用的是443
  - 资源消耗不同: 和http通信相比，https通信会由于加密解密，处理消耗更多的CPU和内存资源
  - 开销:https通信需要证书，而证书一般需要向认证机构购买
  - https的加密机制是一种共享过密钥加密和公开密钥加密并用的混合加密机制

## 2. TCP和UDP的区别

**TCP赫尔UDP是OSI模型中传输层中的协议。TCP提供可靠的通信传输，而UDP则常被用于让个广播和细节控制交给应用的通信传输**

**区别**:

- TCP面向连接，UDP面向非连接，即发送数据前不需要建立连接
- TCP提供可靠的数据传输服务，UDP无法保证
- TCP面向字节流，UDP面向报文
- TCP数据传输慢，UDP数据传输快

## 3. TCP三次握手，为什么采用三次握手

- **第一次握手**:建立连接，客户端发送连接请求报文，然后进入等待状态，等待服务器确认。
- **第二次握手**: 服务器收到客户端的报文段之后，需要对报文段进行确认，同时将服务器自己的报文段信息和接收到的报文段信息一起打包再发送给客户端。
- **第三次握手**: 客户端接收到服务器发送回来的报文段信息后，像服务器发送ACK报文段，这个报文段发送完之后，客户端和服务端都进入estableished状态，完成TCP三次握手。

**采用三次握手是为了防止失效的连接请求报文段突然又传送到主机服务端，因而产生错误。失效的连接请求报文段是指: 主机A发出的连接请求没有收到主机B的确认，于是经过一段时间后，主机A又重新向主机B发送请求，且建立成功，顺利完成数据传输。熬制资源浪费**

## 4. 简单介绍一些TCP长连接和短连接

- **长连接**: 当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP链接不会甘比，如果客户端再次访问这个服务器上的网页，会继续使用这条已经建立的链接，但是它不会永远保持链接，它有一个保持时间，可以在不同服务器软件中设定这个时间。
- **短连接**: 浏览器和服务器每进行一次HTTP操作，就建立一次链接，但任务结束就中断链接
- **TCP长连接**: client向server发起连接，server接收client连接，双方建立连接。client与server完成一次读写之后，它们之间的连接不会主动关闭，后续的读写操作会继续用这个链接
- **TCP短连接**: client向server发起请求，server接收到请求，然后双方建立连接。client向server发送消息，server回应client，然后读写操作就完成了，这时双方任何一端都可以发起close操作，不过一般都是client发起close操纵，短连接一般只会在client/server之间传递一次读写操作

## 5. 简单介绍一下四次挥手

- **第一次挥手**: client发送一个结束请求，用来关闭client到server的数据传送，client进入关闭前的等待状态。
- **第二次挥手**: server接收到client发送的结束请求之后，发送一个ACK给client，确认收到了client发送的结束请求，server进入关闭前的等待状态
- **第三次挥手**: server发送一个结束请求，用来关闭server到client的数据传输，server进入LAST_ACK状态
- **第四次挥手**: client收到server发送的结束请求之后，client进入TIME_WAIT状态，接着发送一个确认关闭信息，server进入关闭状态，完成四次挥手。

## 6. websocket是否了解

websocket和http一样，同属于应用层协议。它最重要的用途是实现了客户单与服务端之间的双攻通信，当服务端数据变化时，可以第一时间通知客户端。除此之外，与http协议不同的地方还有http只能由客户端发起，而websocket是双向的。websocket传输的数据包相对于http而言很小，很适合移动端使用，没有同源限制，可以跨领域共享资源

## 7. Tcp协议如何保证传输的可靠性

- **数据包校验**: 目的是检测数据在传输过程中的任何变化，若校验出包有错，则丢弃报文段并且不给出响应，这时Tcp发送数据端超时后会重发数据。
- **丢弃重复数据**: 对于重复数据，能够丢失重复数据
- **应答机制**: 当Tcp接收到发自TCP链接另一端的数据，它将发送一个确认，这个确认不是立即发送，通常推迟几分之一秒
- **超时重发**: 当Tcp发出一个段之后，它启动一个定时器，等待目的端确认接收到这个报文段，如果不能及时几收到一个确认，将重发这个报文段。

